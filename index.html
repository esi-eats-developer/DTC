<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <meta name="author" content="이랜드 ESI(외식, 바이오&헬스케어)">
        <!-- 본 웹에 대한 설명 -->
        <meta name="keywords" content=""/>
        <meta name="description" content=""> 
        <!-- 링크 공유 시 보여지는 내용 설정 -->
        <meta property="og:type" content="website"> 
        <meta property="og:title" content="">
        <meta property="og:description" content="">
        <meta property="og:image" content="">
        <meta property="og:url" rel="canonical" content="">

        <title>이랜드 바이오&헬스케어</title>
        <link rel="shortcut icon" href="./image/favicon.jpg"> 

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css">
        <link rel="stylesheet" href="style.css">

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.6/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"></script>
    </head>

    <body class="container-md">
        <article class="start container-md mt-5"> <!-- 설문 시작 전 메인 페이지 -->
            <div class="survey-start">
                <div class="start-header">
                    <!-- 로고 삽입 가능 -->
                    <!-- <span class="icon"></span> -->
                    <h2><b style="color: #3A5FCB">건강기능식품<br>큐레이션 서비스</b></h2>
                </div>
                <div class="start-info mt-5">
                    <h5>
                        <span style="color: gray">이랜드 바이오&헬스케어 팀이 추천하는</span><br>
                        고객 데이터 기반 맞춤형 <span style="color: #3A5FCB">#건강기능식품</span><br>
                    </h5>
                    <h5 class="mt-5">
                        <b>간단한 설문을 통해<br>성별/연령/라이프스타일에 딱 맞는<br>맞춤 상품을 추천 받아요!<br></b>
                    </h5>
                </div>
                <button id="btn-start" class="btn btn-radius btn-lg btn-normal mt-5" type="button" onclick="start();">시작하기</button>
                <div class="start-footer">
                    <p class="warning mt-2" style="color: gray">* 질병의 진단 및 치료는 전문적인 의료기관을 이용하세요.</p>
                </div>
            </div>
        </article>

        <article class="survey container-md mt-5"> <!-- 설문 페이지 -->
            <div class="survey-contents">
                <div class="survey-test">
                    <div class="progress survey-progress"> <!-- 프로그레스바 -->
                        <div id="survey-progress-rate" class="progress-bar" role="progressbar" style="width: calc(100/4*1%);" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <div class="survey-question-contents"> <!-- 질문&답변 -->
                        <div>
                            <h6 id="qNum" class="mt-5">질문 1</h6> <!-- 질문 번호 -->
                            <h3 id="qTitle" class="text-center"><p>질문</p></h3> <!-- 질문 -->
                        </div>
                        <div class="question-answer-wrap mt-5 text-center "> <!-- 답변 -->
                            <div class="question-answer-radio">
                                <div id="A" class="form-check form-check-inline">
                                    <input class="form-check-input mt-0" type="radio" name="question-answer" value="selection1">
                                    <label class="form-check-label checkmark" id="selection1" for="selection1">선택 1</label>
                                </div>
                                <div id="B" class="form-check form-check-inline">
                                    <input class="form-check-input mt-0" type="radio" name="question-answer" value="selection2">
                                    <label class="form-check-label checkmark" id="selection2" for="selection2">선택 2</label>
                                </div>
                                <div id="C" class="form-check form-check-inline">
                                    <input class="form-check-input mt-0" type="radio" name="question-answer" value="selection3">
                                    <label class="form-check-label checkmark" id="selection3" for="selection3">선택 3</label>
                                </div>
                                <div id="D" class="form-check form-check-inline">
                                    <input class="form-check-input mt-0" type="radio" name="question-answer" value="selection4">
                                    <label class="form-check-label checkmark" id="selection4" for="selection4">선택 4</label>
                                </div>
                                <div id="E" class="form-check form-check-inline">
                                    <input class="form-check-input mt-0" type="radio" name="question-answer" value="selection5">
                                    <label class="form-check-label checkmark" id="selection5" for="selection5">선택 5</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="survey-errormsg mt-2" style="display: none;">※ 응답을 입력해주세요!</div>
                <div class="survey-footer mt-5">
                    <button id="btn-next" class="btn btn-radius btn-normal">다음</button>
                </div>
            </div>
        </article>

        <article class="result container-md"> <!--  결과 페이지 -->
            <div class="result-content">
                <div class="result-info mt-5">
                    <h5>
                        #<span class="sex">성별</span> #<span class="age">연령</span> #<span class="life">라이프스타일</span> 
                        <br>을 바탕으로 선정된
                    </h5>
                    <h2 class="mt-2">
                        <span style="color: #3A5FCB"><b>건강 카테고리별 필수 영양성분</b></span>이에요!
                    </h2>
                    <p class="mt-5">
                        ※ 아래 카드를 좌우로 넘겨 자세한 정보를 확인해보세요.
                        <br>
                        ※ '구매하기' 버튼 클릭 시, 카카오톡으로 관련 상품을 바로 구매하실 수 있습니다 :)
                    </p>
                </div>

                <div class="container-fluid mt-5">
                    <div class="category-card card-group scrolling-wrapper row flex-row flex-nowrap mb-3">
                        <div id="categoryA" class="col category-fixed">
                            <div class="card card-block mt-2 h-100" style="width: 20rem;" >
                                <!-- <img src="./image/banner/003.png" class="card-img-top" alt="card1"> -->
                                <div class="card-body">
                                    <h5 class="card-title">피로 회복</h5>
                                    <p style="color:yellowgreen; font-weight: bolder;">※ 오직 이랜드! 최저가 구매 가능!</span></p>
                                    <p class="card-text">시험 준비, 직장, 육아 등 다양한 환경에서 쌓이는 육체적, 정신적 피로! 누적되기 전에 회복해요!</p>
                                    <br>
                                    <p><b>핵심 영양성분: </b>밀크씨슬, 비타민B</p>
                                    <br>
                                    <button class="card-link btn btn-normal btn-radius" onclick="location.href=''">구매하기</button>
                                </div>
                                <div class="card-footer"><small class="text-muted"></small></div>
                            </div>
                        </div>
                        <div id="categoryB" class="col category-fixed">
                            <div class="card card-block mt-2 h-100" style="width: 20rem;">
                                <!-- <img src="./image/banner/005.png" class="card-img-top" alt="card2"> -->
                                <div class="card-body">
                                    <h5 class="card-title">면역력 증진</h5>
                                    <p style="color:yellowgreen; font-weight: bolder;">※ 어버이날 맞이 특별 선물세트 구성!</p>
                                    <p class="card-text">끝이 보이지 않는 팬더믹. 면역력 관리는 선택이 아닌 필수!</p>
                                    <br>
                                    <p><b>핵심 영양성분: </b>홍삼, 프로폴리스</p>
                                    <br>
                                    <button class="card-link btn btn-normal btn-radius" onclick="location.href=''">구매하기</button>
                                </div>
                                <div class="card-footer"><small class="text-muted"></small></div>
                            </div>
                        </div>
                        <div id="categoryC" class="col category-fixed">
                            <div class="card card-block h-100 mt-2">
                                <!-- <img src="./image/banner/001.png" class="card-img-top" alt="card3"> -->
                                <div class="card-body">
                                    <h5 class="card-title">눈 건강</h5>
                                    <p style="color:yellowgreen; font-weight: bolder;">※ 전 연령 Pick!</p>
                                    <p class="card-text">비대면 수업, 재택 근무, 디지털 콘텐츠 시청까지. 일상 중 디스플레이 노출 시간이 늘어나면서 눈 건강 관리는 필수가 되었어요!</p>
                                    <br>
                                    <p><b>핵심 영양성분: </b>루테인, 오메가3</p>
                                    <br>
                                    <button class="card-link btn btn-normal btn-radius" onclick="location.href=''">구매하기</button>
                                </div>
                                <div class="card-footer"><small class="text-muted"></small></div>
                            </div>
                        </div>
                        <div id="categoryD" class="col">
                            <div class="card card-block h-100 mt-2">
                                <!-- <img src="./image/banner/003.png" class="card-img-top" alt="card4"> -->
                                <div class="card-body">
                                    <h5 class="card-title">장 건강</h5>
                                    <p style="color:yellowgreen; font-weight: bolder;"></p> <!-- 추가 설명 / 특이사항-->
                                    <p class="card-text">기름지고 자극적인 배달음식 섭취가 증가하면서, 장 내 유해균 관리가 필요해졌어요!</p>
                                    <br>
                                    <p><b>핵심 영양성분: </b>유산균</p>
                                    <br>
                                    <button class="card-link btn btn-normal btn-radius" onclick="location.href=''">구매하기</button>
                                </div>
                                <div class="card-footer"><small class="text-muted"></small></div>
                            </div>
                        </div>
                        <!-- A1MF 대상 카드 -->
                        <div id="categoryE" class="col">
                            <div class="card card-block h-100 mt-2">
                                <!-- <img src="./image/banner/003.png" class="card-img-top" alt="card5"> -->
                                <div class="card-body">
                                    <h5 class="card-title">피부 관리</h5>
                                    <p style="color:yellowgreen; font-weight: bolder;"></p> <!-- 추가 설명 / 특이사항-->
                                    <p class="card-text">빠르면 빠를수록 좋다! 마스크 착용으로 인한 피부 손상, 점점 다가오는 피부 노화. 지금부터 관리해요!</p>
                                    <br>
                                    <p><b>핵심 영양성분: </b>콜라겐, 비타민C</p>
                                    <br>
                                    <!-- <button class="card-link btn btn-normal btn-radius" onclick="location.href=''">구매하기</button> -->
                                </div>
                                <div class="card-footer"><small class="text-muted"></small></div>
                            </div>
                        </div>
                        <!-- A2F 대상 카드 -->
                        <div id="categoryF" class="col">
                            <div class="card card-block h-100 mt-2">
                                <!-- <img src="./image/banner/003.png" class="card-img-top" alt="card6"> -->
                                <div class="card-body">
                                    <h5 class="card-title">여성 건강(갱년기)</h5>
                                    <p style="color:yellowgreen; font-weight: bolder;"></p> <!-- 추가 설명 / 특이사항-->
                                    <p class="card-text">갱년기 골밀도 감소로 인해 폐경 이후 여성의 94%가 골다공증을 앓는다고 해요 :( 시큰거리는 손/발목 건강기능식품으로 보호해요!</p>
                                    <br>
                                    <p><b>핵심 영양성분: </b>칼슘, 마그네슘</p>
                                    <br>
                                    <!-- <button class="card-link btn btn-normal btn-radius" onclick="location.href=''">구매하기</button> -->
                                </div>
                                <div class="card-footer"><small class="text-muted"></small></div>
                            </div>
                        </div>
                        <!-- A3MF 대상 카드 -->
                        <div id="categoryG" class="col">
                            <div class="card card-block h-100 mt-2">
                                <!-- <img src="./image/banner/003.png" class="card-img-top" alt="card7"> -->
                                <div class="card-body">
                                    <h5 class="card-title">뼈/관절</h5>
                                    <p style="color:yellowgreen; font-weight: bolder;"></p> <!-- 추가 설명 / 특이사항-->
                                    <p class="card-text">날이 갈수록 시리고 뻐근한 몸. 관절 및 연골의 필수 구성성분도 섭취를 통해 간단히 챙길 수 있어요!</p>
                                    <br>
                                    <p><b>핵심 영양성분: </b>MSM</p>
                                    <br>
                                    <!-- <button class="card-link btn btn-normal btn-radius" onclick="location.href=''">구매하기</button> -->
                                </div>
                                <div class="card-footer"><small class="text-muted"></small></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="result-purchase">
                    <button type="button" class="btn btn-lg btn-purchase mt-3 mb-5" onclick="goPurchase();">카카오톡에서 전체 상품 한 눈에 보기</button>
                </div>
            </div>
        </article>

        <script type="text/javascript" src="./js/question.js"></script>
        <script type="text/javascript" src="./js/solution.js"></script>
        <script type="text/javascript">
            $(".survey").hide(); // 메인 페이지에 등장하지 않도록 숨김 처리
            $(".result").hide();

            var num = 1;

            function start(){
                $(".start").hide();
                $(".survey").show();
                next();
            }

            function result(){
                var sex = localStorage.getItem("sex");
                var age = localStorage.getItem("age");
                var life = localStorage.getItem("life");

                var group = groupSelection();

                $(".sex").html(sex);
                $(".age").html(age);
                $(".life").html(life);

                if(group == "A1MF"){
                    $("#categoryF").attr("style", "display: none");
                    $("#categoryG").attr("style", "display: none");
                }
                if(group == "A2F"){
                    $("#categoryE").attr("style", "display: none");
                    $("#categoryG").attr("style", "display: none");
                }
                if(group == "A3MF"){
                    $("#categoryE").attr("style", "display: none");
                    $("#categoryF").attr("style", "display: none");
                }
            }

            function btnNext(){
                saveAnswer();
                deselect();
                next();
            }

            function answerCheck(){
                if($("input:radio[name='question-answer']").is(":checked") == false){
                    $(".survey-errormsg").attr("style", "display: ");
                }
                else{btnNext();}
            }

            $("#btn-next").click(function() {
                if(num < 5){answerCheck();}
                if(num == 5){
                    $(".survey").hide();
                    $(".result").show();
                    result();
                }
            });

            function deselect(){
                $("input:radio[name='question-answer']").prop("checked", false);
                $(".survey-errormsg").attr("style", "display: none");
                num++;
            }

            function groupSelection(){
                var age = localStorage.getItem("age");
                var sex = localStorage.getItem("sex");
                var group = "";

                if(age == "청년(20-30대)"){group = "A1MF"}
                else if(age == "중장년(40-50대)"){
                    if(sex == "남성"){group = "A2M"}
                    if(sex == "여성"){group = "A2F"} 
                }
                else {group = "A3MF"}
                return group
            }

            function visibility(){
                var x = q[num]["selectionNum"];

                if(x == 2){
                    $("#C").attr("style", "display: none");
                    $("#D").attr("style", "display: none");
                    $("#E").attr("style", "display: none");
                }
                if(x == 3){
                    $("#C").attr("style", "display: ");
                    $("#D").attr("style", "display: none");
                    $("#E").attr("style", "display: none");
                }
                if(x == 5){
                    $("#C").attr("style", "display: ");
                    $("#D").attr("style", "display: ");
                    $("#E").attr("style", "display: ");
                }
            }

            function next(){
                $("#survey-progress-rate").attr("style", "width:calc(100/4*"+num+"%)"); // 프로그레스 바 진행 현황 변경
                $("#qNum").text("질문 "+num);

                if(num < 5){
                    $("#qTitle").html(q[num]["title"]);

                    $("#selection1").html(q[num]["A"]);
                    $("#selection2").html(q[num]["B"]);
                    $("#selection3").html(q[num]["C"]);
                    $("#selection4").html(q[num]["D"]);
                    $("#selection5").html(q[num]["E"]);

                    visibility();
                }
            }

            function saveAnswer(){
                var key = q[num]["question-type"];

                if($("input:radio[name='question-answer']").is(":checked")){
                    var radioID = $("input[name='question-answer']:checked").val();
                    var radioNm = $("label[for='"+radioID+"']").text();
                    localStorage.setItem(key, radioNm);
                }
            }    


            function goPurchase(){
                let giftPrice = localStorage.getItem("price");
            }
        </script>
    </body>
</html>